"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@portabletext";
exports.ids = ["vendor-chunks/@portabletext"];
exports.modules = {

/***/ "(ssr)/./node_modules/@portabletext/react/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@portabletext/react/dist/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PortableText: () => (/* binding */ PortableText),\n/* harmony export */   defaultComponents: () => (/* binding */ defaultComponents),\n/* harmony export */   mergeComponents: () => (/* binding */ mergeComponents),\n/* harmony export */   toPlainText: () => (/* reexport safe */ _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.toPlainText)\n/* harmony export */ });\n/* harmony import */ var _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @portabletext/toolkit */ \"(ssr)/./node_modules/@portabletext/toolkit/dist/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\nconst _excluded = [\n    \"block\",\n    \"list\",\n    \"listItem\",\n    \"marks\",\n    \"types\"\n], _excluded2 = [\n    \"listItem\"\n], _excluded3 = [\n    \"_key\"\n];\nfunction ownKeys(e, r) {\n    var t = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n        var o = Object.getOwnPropertySymbols(e);\n        r && (o = o.filter(function(r) {\n            return Object.getOwnPropertyDescriptor(e, r).enumerable;\n        })), t.push.apply(t, o);\n    }\n    return t;\n}\nfunction _objectSpread(e) {\n    for(var r = 1; r < arguments.length; r++){\n        var t = null != arguments[r] ? arguments[r] : {};\n        r % 2 ? ownKeys(Object(t), !0).forEach(function(r) {\n            _defineProperty(e, r, t[r]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r) {\n            Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n        });\n    }\n    return e;\n}\nfunction _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n        var res = prim.call(input, hint || \"default\");\n        if (typeof res !== \"object\") return res;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n}\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n    var key, i;\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n        for(i = 0; i < sourceSymbolKeys.length; i++){\n            key = sourceSymbolKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\n\n\n\n\nfunction mergeComponents(parent, overrides) {\n    const { block, list, listItem, marks, types } = overrides, rest = _objectWithoutProperties(overrides, _excluded);\n    return _objectSpread(_objectSpread({}, parent), {}, {\n        block: mergeDeeply(parent, overrides, \"block\"),\n        list: mergeDeeply(parent, overrides, \"list\"),\n        listItem: mergeDeeply(parent, overrides, \"listItem\"),\n        marks: mergeDeeply(parent, overrides, \"marks\"),\n        types: mergeDeeply(parent, overrides, \"types\")\n    }, rest);\n}\nfunction mergeDeeply(parent, overrides, key) {\n    const override = overrides[key];\n    const parentVal = parent[key];\n    if (typeof override === \"function\") {\n        return override;\n    }\n    if (override && typeof parentVal === \"function\") {\n        return override;\n    }\n    if (override) {\n        return _objectSpread(_objectSpread({}, parentVal), override);\n    }\n    return parentVal;\n}\nconst link = (_ref)=>{\n    let { children, value } = _ref;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"a\", {\n        href: value == null ? void 0 : value.href,\n        children\n    });\n};\nconst underlineStyle = {\n    textDecoration: \"underline\"\n};\nconst defaultMarks = {\n    em: (_ref2)=>{\n        let { children } = _ref2;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"em\", {\n            children\n        });\n    },\n    strong: (_ref3)=>{\n        let { children } = _ref3;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", {\n            children\n        });\n    },\n    code: (_ref4)=>{\n        let { children } = _ref4;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"code\", {\n            children\n        });\n    },\n    underline: (_ref5)=>{\n        let { children } = _ref5;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n            style: underlineStyle,\n            children\n        });\n    },\n    \"strike-through\": (_ref6)=>{\n        let { children } = _ref6;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"del\", {\n            children\n        });\n    },\n    link\n};\nconst defaultLists = {\n    number: (_ref7)=>{\n        let { children } = _ref7;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ol\", {\n            children\n        });\n    },\n    bullet: (_ref8)=>{\n        let { children } = _ref8;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ul\", {\n            children\n        });\n    }\n};\nconst DefaultListItem = (_ref9)=>{\n    let { children } = _ref9;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n        children\n    });\n};\nconst getTemplate = (type, prop)=>\"[@portabletext/react] Unknown \".concat(type, \", specify a component for it in the `components.\").concat(prop, \"` prop\");\nconst unknownTypeWarning = (typeName)=>getTemplate('block type \"'.concat(typeName, '\"'), \"types\");\nconst unknownMarkWarning = (markType)=>getTemplate('mark type \"'.concat(markType, '\"'), \"marks\");\nconst unknownBlockStyleWarning = (blockStyle)=>getTemplate('block style \"'.concat(blockStyle, '\"'), \"block\");\nconst unknownListStyleWarning = (listStyle)=>getTemplate('list style \"'.concat(listStyle, '\"'), \"list\");\nconst unknownListItemStyleWarning = (listStyle)=>getTemplate('list item style \"'.concat(listStyle, '\"'), \"listItem\");\nfunction printWarning(message) {\n    console.warn(message);\n}\nconst hidden = {\n    display: \"none\"\n};\nconst DefaultUnknownType = (_ref10)=>{\n    let { value, isInline } = _ref10;\n    const warning = unknownTypeWarning(value._type);\n    return isInline ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n        style: hidden,\n        children: warning\n    }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        style: hidden,\n        children: warning\n    });\n};\nconst DefaultUnknownMark = (_ref11)=>{\n    let { markType, children } = _ref11;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n        className: \"unknown__pt__mark__\".concat(markType),\n        children\n    });\n};\nconst DefaultUnknownBlockStyle = (_ref12)=>{\n    let { children } = _ref12;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n        children\n    });\n};\nconst DefaultUnknownList = (_ref13)=>{\n    let { children } = _ref13;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ul\", {\n        children\n    });\n};\nconst DefaultUnknownListItem = (_ref14)=>{\n    let { children } = _ref14;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n        children\n    });\n};\nconst DefaultHardBreak = ()=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"br\", {});\nconst defaultBlockStyles = {\n    normal: (_ref15)=>{\n        let { children } = _ref15;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n            children\n        });\n    },\n    blockquote: (_ref16)=>{\n        let { children } = _ref16;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"blockquote\", {\n            children\n        });\n    },\n    h1: (_ref17)=>{\n        let { children } = _ref17;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h1\", {\n            children\n        });\n    },\n    h2: (_ref18)=>{\n        let { children } = _ref18;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h2\", {\n            children\n        });\n    },\n    h3: (_ref19)=>{\n        let { children } = _ref19;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", {\n            children\n        });\n    },\n    h4: (_ref20)=>{\n        let { children } = _ref20;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n            children\n        });\n    },\n    h5: (_ref21)=>{\n        let { children } = _ref21;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", {\n            children\n        });\n    },\n    h6: (_ref22)=>{\n        let { children } = _ref22;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h6\", {\n            children\n        });\n    }\n};\nconst defaultComponents = {\n    types: {},\n    block: defaultBlockStyles,\n    marks: defaultMarks,\n    list: defaultLists,\n    listItem: DefaultListItem,\n    hardBreak: DefaultHardBreak,\n    unknownType: DefaultUnknownType,\n    unknownMark: DefaultUnknownMark,\n    unknownList: DefaultUnknownList,\n    unknownListItem: DefaultUnknownListItem,\n    unknownBlockStyle: DefaultUnknownBlockStyle\n};\nfunction PortableText(_ref23) {\n    let { value: input, components: componentOverrides, listNestingMode, onMissingComponent: missingComponentHandler = printWarning } = _ref23;\n    const handleMissingComponent = missingComponentHandler || noop;\n    const blocks = Array.isArray(input) ? input : [\n        input\n    ];\n    const nested = (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.nestLists)(blocks, listNestingMode || _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.LIST_NEST_MODE_HTML);\n    const components = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        return componentOverrides ? mergeComponents(defaultComponents, componentOverrides) : defaultComponents;\n    }, [\n        componentOverrides\n    ]);\n    const renderNode = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>getNodeRenderer(components, handleMissingComponent), [\n        components,\n        handleMissingComponent\n    ]);\n    const rendered = nested.map((node, index)=>renderNode({\n            node,\n            index,\n            isInline: false,\n            renderNode\n        }));\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n        children: rendered\n    });\n}\nconst getNodeRenderer = (components, handleMissingComponent)=>{\n    function renderNode(options) {\n        const { node, index, isInline } = options;\n        const key = node._key || \"node-\".concat(index);\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitList)(node)) {\n            return renderList(node, index, key);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextListItemBlock)(node)) {\n            return renderListItem(node, index, key);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitSpan)(node)) {\n            return renderSpan(node, index, key);\n        }\n        if (hasCustomComponentForNode(node)) {\n            return renderCustomBlock(node, index, key, isInline);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextBlock)(node)) {\n            return renderBlock(node, index, key, isInline);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitTextNode)(node)) {\n            return renderText(node, key);\n        }\n        return renderUnknownType(node, index, key, isInline);\n    }\n    function hasCustomComponentForNode(node) {\n        return node._type in components.types;\n    }\n    function renderListItem(node, index, key) {\n        const tree = serializeBlock({\n            node,\n            index,\n            isInline: false,\n            renderNode\n        });\n        const renderer = components.listItem;\n        const handler = typeof renderer === \"function\" ? renderer : renderer[node.listItem];\n        const Li = handler || components.unknownListItem;\n        if (Li === components.unknownListItem) {\n            const style = node.listItem || \"bullet\";\n            handleMissingComponent(unknownListItemStyleWarning(style), {\n                type: style,\n                nodeType: \"listItemStyle\"\n            });\n        }\n        let children = tree.children;\n        if (node.style && node.style !== \"normal\") {\n            const { listItem } = node, blockNode = _objectWithoutProperties(node, _excluded2);\n            children = renderNode({\n                node: blockNode,\n                index,\n                isInline: false,\n                renderNode\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Li, {\n            value: node,\n            index,\n            isInline: false,\n            renderNode,\n            children\n        }, key);\n    }\n    function renderList(node, index, key) {\n        const children = node.children.map((child, childIndex)=>renderNode({\n                node: child._key ? child : _objectSpread(_objectSpread({}, child), {}, {\n                    _key: \"li-\".concat(index, \"-\").concat(childIndex)\n                }),\n                index: childIndex,\n                isInline: false,\n                renderNode\n            }));\n        const component = components.list;\n        const handler = typeof component === \"function\" ? component : component[node.listItem];\n        const List = handler || components.unknownList;\n        if (List === components.unknownList) {\n            const style = node.listItem || \"bullet\";\n            handleMissingComponent(unknownListStyleWarning(style), {\n                nodeType: \"listStyle\",\n                type: style\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(List, {\n            value: node,\n            index,\n            isInline: false,\n            renderNode,\n            children\n        }, key);\n    }\n    function renderSpan(node, _index, key) {\n        const { markDef, markType, markKey } = node;\n        const Span = components.marks[markType] || components.unknownMark;\n        const children = node.children.map((child, childIndex)=>renderNode({\n                node: child,\n                index: childIndex,\n                isInline: true,\n                renderNode\n            }));\n        if (Span === components.unknownMark) {\n            handleMissingComponent(unknownMarkWarning(markType), {\n                nodeType: \"mark\",\n                type: markType\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Span, {\n            text: (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.spanToPlainText)(node),\n            value: markDef,\n            markType,\n            markKey,\n            renderNode,\n            children\n        }, key);\n    }\n    function renderBlock(node, index, key, isInline) {\n        const _serializeBlock = serializeBlock({\n            node,\n            index,\n            isInline,\n            renderNode\n        }), { _key } = _serializeBlock, props = _objectWithoutProperties(_serializeBlock, _excluded3);\n        const style = props.node.style || \"normal\";\n        const handler = typeof components.block === \"function\" ? components.block : components.block[style];\n        const Block = handler || components.unknownBlockStyle;\n        if (Block === components.unknownBlockStyle) {\n            handleMissingComponent(unknownBlockStyleWarning(style), {\n                nodeType: \"blockStyle\",\n                type: style\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Block, _objectSpread(_objectSpread({}, props), {}, {\n            value: props.node,\n            renderNode\n        }), key);\n    }\n    function renderText(node, key) {\n        if (node.text === \"\\n\") {\n            const HardBreak = components.hardBreak;\n            return HardBreak ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(HardBreak, {}, key) : \"\\n\";\n        }\n        return node.text;\n    }\n    function renderUnknownType(node, index, key, isInline) {\n        const nodeOptions = {\n            value: node,\n            isInline,\n            index,\n            renderNode\n        };\n        handleMissingComponent(unknownTypeWarning(node._type), {\n            nodeType: \"block\",\n            type: node._type\n        });\n        const UnknownType = components.unknownType;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(UnknownType, _objectSpread({}, nodeOptions), key);\n    }\n    function renderCustomBlock(node, index, key, isInline) {\n        const nodeOptions = {\n            value: node,\n            isInline,\n            index,\n            renderNode\n        };\n        const Node = components.types[node._type];\n        return Node ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Node, _objectSpread({}, nodeOptions), key) : null;\n    }\n    return renderNode;\n};\nfunction serializeBlock(options) {\n    const { node, index, isInline, renderNode } = options;\n    const tree = (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.buildMarksTree)(node);\n    const children = tree.map((child, i)=>renderNode({\n            node: child,\n            isInline: true,\n            index: i,\n            renderNode\n        }));\n    return {\n        _key: node._key || \"block-\".concat(index),\n        children,\n        index,\n        isInline,\n        node\n    };\n}\nfunction noop() {}\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHBvcnRhYmxldGV4dC9yZWFjdC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxZQUFZO0lBQUM7SUFBUztJQUFRO0lBQVk7SUFBUztDQUFRLEVBQy9EQyxhQUFhO0lBQUM7Q0FBVyxFQUN6QkMsYUFBYTtJQUFDO0NBQU87QUFDdkIsU0FBU0MsUUFBUUMsQ0FBQyxFQUFFQyxDQUFDO0lBQUksSUFBSUMsSUFBSUMsT0FBT0MsSUFBSSxDQUFDSjtJQUFJLElBQUlHLE9BQU9FLHFCQUFxQixFQUFFO1FBQUUsSUFBSUMsSUFBSUgsT0FBT0UscUJBQXFCLENBQUNMO1FBQUlDLEtBQU1LLENBQUFBLElBQUlBLEVBQUVDLE1BQU0sQ0FBQyxTQUFVTixDQUFDO1lBQUksT0FBT0UsT0FBT0ssd0JBQXdCLENBQUNSLEdBQUdDLEdBQUdRLFVBQVU7UUFBRSxFQUFDLEdBQUlQLEVBQUVRLElBQUksQ0FBQ0MsS0FBSyxDQUFDVCxHQUFHSTtJQUFJO0lBQUUsT0FBT0o7QUFBRztBQUM5UCxTQUFTVSxjQUFjWixDQUFDO0lBQUksSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlZLFVBQVVDLE1BQU0sRUFBRWIsSUFBSztRQUFFLElBQUlDLElBQUksUUFBUVcsU0FBUyxDQUFDWixFQUFFLEdBQUdZLFNBQVMsQ0FBQ1osRUFBRSxHQUFHLENBQUM7UUFBR0EsSUFBSSxJQUFJRixRQUFRSSxPQUFPRCxJQUFJLENBQUMsR0FBR2EsT0FBTyxDQUFDLFNBQVVkLENBQUM7WUFBSWUsZ0JBQWdCaEIsR0FBR0MsR0FBR0MsQ0FBQyxDQUFDRCxFQUFFO1FBQUcsS0FBS0UsT0FBT2MseUJBQXlCLEdBQUdkLE9BQU9lLGdCQUFnQixDQUFDbEIsR0FBR0csT0FBT2MseUJBQXlCLENBQUNmLE1BQU1ILFFBQVFJLE9BQU9ELElBQUlhLE9BQU8sQ0FBQyxTQUFVZCxDQUFDO1lBQUlFLE9BQU9nQixjQUFjLENBQUNuQixHQUFHQyxH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LEtBQUssR0FBRztZQUNyRHFFLFVBQVU7WUFDVjNGLE1BQU0wRSxLQUFLcEQsS0FBSztRQUNsQjtRQUNBLE1BQU1xRixjQUFjaEQsV0FBV1AsV0FBVztRQUMxQyxPQUFPLGFBQWEsR0FBRTVGLHNEQUFHQSxDQUFDbUosYUFBYW5NLGNBQWMsQ0FBQyxHQUFHa00sY0FBY3pMO0lBQ3pFO0lBQ0EsU0FBU2lLLGtCQUFrQlIsSUFBSSxFQUFFQyxLQUFLLEVBQUUxSixHQUFHLEVBQUVtRyxRQUFRO1FBQ25ELE1BQU1zRixjQUFjO1lBQ2xCeEwsT0FBT3dKO1lBQ1B0RDtZQUNBdUQ7WUFDQUw7UUFDRjtRQUNBLE1BQU1zQyxPQUFPakQsV0FBV3pGLEtBQUssQ0FBQ3dHLEtBQUtwRCxLQUFLLENBQUM7UUFDekMsT0FBT3NGLE9BQU8sYUFBYSxHQUFFcEosc0RBQUdBLENBQUNvSixNQUFNcE0sY0FBYyxDQUFDLEdBQUdrTSxjQUFjekwsT0FBTztJQUNoRjtJQUNBLE9BQU9xSjtBQUNUO0FBQ0EsU0FBU2lCLGVBQWVYLE9BQU87SUFDN0IsTUFBTSxFQUNKRixJQUFJLEVBQ0pDLEtBQUssRUFDTHZELFFBQVEsRUFDUmtELFVBQVUsRUFDWCxHQUFHTTtJQUNKLE1BQU1VLE9BQU9oSSxxRUFBY0EsQ0FBQ29IO0lBQzVCLE1BQU1qRyxXQUFXNkcsS0FBS2IsR0FBRyxDQUFDLENBQUNvQixPQUFPckosSUFBTThILFdBQVc7WUFDakRJLE1BQU1tQjtZQUNOekUsVUFBVTtZQUNWdUQsT0FBT25JO1lBQ1A4SDtRQUNGO0lBQ0EsT0FBTztRQUNMTyxNQUFNSCxLQUFLRyxJQUFJLElBQUksU0FBUzNFLE1BQU0sQ0FBQ3lFO1FBQ25DbEc7UUFDQWtHO1FBQ0F2RDtRQUNBc0Q7SUFDRjtBQUNGO0FBQ0EsU0FBU1QsUUFBUTtBQUMyQyxDQUM1RCxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vbGktY3Jvc3NsYW5kLXZpZGVvZ3JhcGh5Ly4vbm9kZV9tb2R1bGVzL0Bwb3J0YWJsZXRleHQvcmVhY3QvZGlzdC9pbmRleC5qcz9iZmNhIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF9leGNsdWRlZCA9IFtcImJsb2NrXCIsIFwibGlzdFwiLCBcImxpc3RJdGVtXCIsIFwibWFya3NcIiwgXCJ0eXBlc1wiXSxcbiAgX2V4Y2x1ZGVkMiA9IFtcImxpc3RJdGVtXCJdLFxuICBfZXhjbHVkZWQzID0gW1wiX2tleVwiXTtcbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpOyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiB0eXBlb2Yga2V5ID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAodHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKHR5cGVvZiByZXMgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5pbXBvcnQgeyBuZXN0TGlzdHMsIExJU1RfTkVTVF9NT0RFX0hUTUwsIGlzUG9ydGFibGVUZXh0VG9vbGtpdExpc3QsIGlzUG9ydGFibGVUZXh0TGlzdEl0ZW1CbG9jaywgaXNQb3J0YWJsZVRleHRUb29sa2l0U3BhbiwgaXNQb3J0YWJsZVRleHRCbG9jaywgaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUsIHNwYW5Ub1BsYWluVGV4dCwgYnVpbGRNYXJrc1RyZWUgfSBmcm9tICdAcG9ydGFibGV0ZXh0L3Rvb2xraXQnO1xuZXhwb3J0IHsgdG9QbGFpblRleHQgfSBmcm9tICdAcG9ydGFibGV0ZXh0L3Rvb2xraXQnO1xuaW1wb3J0IHsganN4LCBGcmFnbWVudCB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5mdW5jdGlvbiBtZXJnZUNvbXBvbmVudHMocGFyZW50LCBvdmVycmlkZXMpIHtcbiAgY29uc3Qge1xuICAgICAgYmxvY2ssXG4gICAgICBsaXN0LFxuICAgICAgbGlzdEl0ZW0sXG4gICAgICBtYXJrcyxcbiAgICAgIHR5cGVzXG4gICAgfSA9IG92ZXJyaWRlcyxcbiAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG92ZXJyaWRlcywgX2V4Y2x1ZGVkKTtcbiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFyZW50KSwge30sIHtcbiAgICBibG9jazogbWVyZ2VEZWVwbHkocGFyZW50LCBvdmVycmlkZXMsIFwiYmxvY2tcIiksXG4gICAgbGlzdDogbWVyZ2VEZWVwbHkocGFyZW50LCBvdmVycmlkZXMsIFwibGlzdFwiKSxcbiAgICBsaXN0SXRlbTogbWVyZ2VEZWVwbHkocGFyZW50LCBvdmVycmlkZXMsIFwibGlzdEl0ZW1cIiksXG4gICAgbWFya3M6IG1lcmdlRGVlcGx5KHBhcmVudCwgb3ZlcnJpZGVzLCBcIm1hcmtzXCIpLFxuICAgIHR5cGVzOiBtZXJnZURlZXBseShwYXJlbnQsIG92ZXJyaWRlcywgXCJ0eXBlc1wiKVxuICB9LCByZXN0KTtcbn1cbmZ1bmN0aW9uIG1lcmdlRGVlcGx5KHBhcmVudCwgb3ZlcnJpZGVzLCBrZXkpIHtcbiAgY29uc3Qgb3ZlcnJpZGUgPSBvdmVycmlkZXNba2V5XTtcbiAgY29uc3QgcGFyZW50VmFsID0gcGFyZW50W2tleV07XG4gIGlmICh0eXBlb2Ygb3ZlcnJpZGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBvdmVycmlkZTtcbiAgfVxuICBpZiAob3ZlcnJpZGUgJiYgdHlwZW9mIHBhcmVudFZhbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIG92ZXJyaWRlO1xuICB9XG4gIGlmIChvdmVycmlkZSkge1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhcmVudFZhbCksIG92ZXJyaWRlKTtcbiAgfVxuICByZXR1cm4gcGFyZW50VmFsO1xufVxuY29uc3QgbGluayA9IF9yZWYgPT4ge1xuICBsZXQge1xuICAgIGNoaWxkcmVuLFxuICAgIHZhbHVlXG4gIH0gPSBfcmVmO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiYVwiLCB7XG4gICAgaHJlZjogdmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLmhyZWYsXG4gICAgY2hpbGRyZW5cbiAgfSk7XG59O1xuY29uc3QgdW5kZXJsaW5lU3R5bGUgPSB7XG4gIHRleHREZWNvcmF0aW9uOiBcInVuZGVybGluZVwiXG59O1xuY29uc3QgZGVmYXVsdE1hcmtzID0ge1xuICBlbTogX3JlZjIgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiZW1cIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgc3Ryb25nOiBfcmVmMyA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYzO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJzdHJvbmdcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgY29kZTogX3JlZjQgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmNDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiY29kZVwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICB1bmRlcmxpbmU6IF9yZWY1ID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjU7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcInNwYW5cIiwge1xuICAgICAgc3R5bGU6IHVuZGVybGluZVN0eWxlLFxuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgXCJzdHJpa2UtdGhyb3VnaFwiOiBfcmVmNiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWY2O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJkZWxcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgbGlua1xufTtcbmNvbnN0IGRlZmF1bHRMaXN0cyA9IHtcbiAgbnVtYmVyOiBfcmVmNyA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWY3O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJvbFwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBidWxsZXQ6IF9yZWY4ID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjg7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcInVsXCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH1cbn07XG5jb25zdCBEZWZhdWx0TGlzdEl0ZW0gPSBfcmVmOSA9PiB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW5cbiAgfSA9IF9yZWY5O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwibGlcIiwge1xuICAgIGNoaWxkcmVuXG4gIH0pO1xufTtcbmNvbnN0IGdldFRlbXBsYXRlID0gKHR5cGUsIHByb3ApID0+IFwiW0Bwb3J0YWJsZXRleHQvcmVhY3RdIFVua25vd24gXCIuY29uY2F0KHR5cGUsIFwiLCBzcGVjaWZ5IGEgY29tcG9uZW50IGZvciBpdCBpbiB0aGUgYGNvbXBvbmVudHMuXCIpLmNvbmNhdChwcm9wLCBcImAgcHJvcFwiKTtcbmNvbnN0IHVua25vd25UeXBlV2FybmluZyA9IHR5cGVOYW1lID0+IGdldFRlbXBsYXRlKCdibG9jayB0eXBlIFwiJy5jb25jYXQodHlwZU5hbWUsICdcIicpLCBcInR5cGVzXCIpO1xuY29uc3QgdW5rbm93bk1hcmtXYXJuaW5nID0gbWFya1R5cGUgPT4gZ2V0VGVtcGxhdGUoJ21hcmsgdHlwZSBcIicuY29uY2F0KG1hcmtUeXBlLCAnXCInKSwgXCJtYXJrc1wiKTtcbmNvbnN0IHVua25vd25CbG9ja1N0eWxlV2FybmluZyA9IGJsb2NrU3R5bGUgPT4gZ2V0VGVtcGxhdGUoJ2Jsb2NrIHN0eWxlIFwiJy5jb25jYXQoYmxvY2tTdHlsZSwgJ1wiJyksIFwiYmxvY2tcIik7XG5jb25zdCB1bmtub3duTGlzdFN0eWxlV2FybmluZyA9IGxpc3RTdHlsZSA9PiBnZXRUZW1wbGF0ZSgnbGlzdCBzdHlsZSBcIicuY29uY2F0KGxpc3RTdHlsZSwgJ1wiJyksIFwibGlzdFwiKTtcbmNvbnN0IHVua25vd25MaXN0SXRlbVN0eWxlV2FybmluZyA9IGxpc3RTdHlsZSA9PiBnZXRUZW1wbGF0ZSgnbGlzdCBpdGVtIHN0eWxlIFwiJy5jb25jYXQobGlzdFN0eWxlLCAnXCInKSwgXCJsaXN0SXRlbVwiKTtcbmZ1bmN0aW9uIHByaW50V2FybmluZyhtZXNzYWdlKSB7XG4gIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbn1cbmNvbnN0IGhpZGRlbiA9IHtcbiAgZGlzcGxheTogXCJub25lXCJcbn07XG5jb25zdCBEZWZhdWx0VW5rbm93blR5cGUgPSBfcmVmMTAgPT4ge1xuICBsZXQge1xuICAgIHZhbHVlLFxuICAgIGlzSW5saW5lXG4gIH0gPSBfcmVmMTA7XG4gIGNvbnN0IHdhcm5pbmcgPSB1bmtub3duVHlwZVdhcm5pbmcodmFsdWUuX3R5cGUpO1xuICByZXR1cm4gaXNJbmxpbmUgPyAvKiBAX19QVVJFX18gKi9qc3goXCJzcGFuXCIsIHtcbiAgICBzdHlsZTogaGlkZGVuLFxuICAgIGNoaWxkcmVuOiB3YXJuaW5nXG4gIH0pIDogLyogQF9fUFVSRV9fICovanN4KFwiZGl2XCIsIHtcbiAgICBzdHlsZTogaGlkZGVuLFxuICAgIGNoaWxkcmVuOiB3YXJuaW5nXG4gIH0pO1xufTtcbmNvbnN0IERlZmF1bHRVbmtub3duTWFyayA9IF9yZWYxMSA9PiB7XG4gIGxldCB7XG4gICAgbWFya1R5cGUsXG4gICAgY2hpbGRyZW5cbiAgfSA9IF9yZWYxMTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1bmtub3duX19wdF9fbWFya19fXCIuY29uY2F0KG1hcmtUeXBlKSxcbiAgICBjaGlsZHJlblxuICB9KTtcbn07XG5jb25zdCBEZWZhdWx0VW5rbm93bkJsb2NrU3R5bGUgPSBfcmVmMTIgPT4ge1xuICBsZXQge1xuICAgIGNoaWxkcmVuXG4gIH0gPSBfcmVmMTI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJwXCIsIHtcbiAgICBjaGlsZHJlblxuICB9KTtcbn07XG5jb25zdCBEZWZhdWx0VW5rbm93bkxpc3QgPSBfcmVmMTMgPT4ge1xuICBsZXQge1xuICAgIGNoaWxkcmVuXG4gIH0gPSBfcmVmMTM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJ1bFwiLCB7XG4gICAgY2hpbGRyZW5cbiAgfSk7XG59O1xuY29uc3QgRGVmYXVsdFVua25vd25MaXN0SXRlbSA9IF9yZWYxNCA9PiB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW5cbiAgfSA9IF9yZWYxNDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImxpXCIsIHtcbiAgICBjaGlsZHJlblxuICB9KTtcbn07XG5jb25zdCBEZWZhdWx0SGFyZEJyZWFrID0gKCkgPT4gLyogQF9fUFVSRV9fICovanN4KFwiYnJcIiwge30pO1xuY29uc3QgZGVmYXVsdEJsb2NrU3R5bGVzID0ge1xuICBub3JtYWw6IF9yZWYxNSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYxNTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwicFwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBibG9ja3F1b3RlOiBfcmVmMTYgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMTY7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImJsb2NrcXVvdGVcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaDE6IF9yZWYxNyA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYxNztcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiaDFcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaDI6IF9yZWYxOCA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYxODtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiaDJcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaDM6IF9yZWYxOSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYxOTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiaDNcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaDQ6IF9yZWYyMCA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYyMDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiaDRcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaDU6IF9yZWYyMSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYyMTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiaDVcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaDY6IF9yZWYyMiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYyMjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiaDZcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfVxufTtcbmNvbnN0IGRlZmF1bHRDb21wb25lbnRzID0ge1xuICB0eXBlczoge30sXG4gIGJsb2NrOiBkZWZhdWx0QmxvY2tTdHlsZXMsXG4gIG1hcmtzOiBkZWZhdWx0TWFya3MsXG4gIGxpc3Q6IGRlZmF1bHRMaXN0cyxcbiAgbGlzdEl0ZW06IERlZmF1bHRMaXN0SXRlbSxcbiAgaGFyZEJyZWFrOiBEZWZhdWx0SGFyZEJyZWFrLFxuICB1bmtub3duVHlwZTogRGVmYXVsdFVua25vd25UeXBlLFxuICB1bmtub3duTWFyazogRGVmYXVsdFVua25vd25NYXJrLFxuICB1bmtub3duTGlzdDogRGVmYXVsdFVua25vd25MaXN0LFxuICB1bmtub3duTGlzdEl0ZW06IERlZmF1bHRVbmtub3duTGlzdEl0ZW0sXG4gIHVua25vd25CbG9ja1N0eWxlOiBEZWZhdWx0VW5rbm93bkJsb2NrU3R5bGVcbn07XG5mdW5jdGlvbiBQb3J0YWJsZVRleHQoX3JlZjIzKSB7XG4gIGxldCB7XG4gICAgdmFsdWU6IGlucHV0LFxuICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudE92ZXJyaWRlcyxcbiAgICBsaXN0TmVzdGluZ01vZGUsXG4gICAgb25NaXNzaW5nQ29tcG9uZW50OiBtaXNzaW5nQ29tcG9uZW50SGFuZGxlciA9IHByaW50V2FybmluZ1xuICB9ID0gX3JlZjIzO1xuICBjb25zdCBoYW5kbGVNaXNzaW5nQ29tcG9uZW50ID0gbWlzc2luZ0NvbXBvbmVudEhhbmRsZXIgfHwgbm9vcDtcbiAgY29uc3QgYmxvY2tzID0gQXJyYXkuaXNBcnJheShpbnB1dCkgPyBpbnB1dCA6IFtpbnB1dF07XG4gIGNvbnN0IG5lc3RlZCA9IG5lc3RMaXN0cyhibG9ja3MsIGxpc3ROZXN0aW5nTW9kZSB8fCBMSVNUX05FU1RfTU9ERV9IVE1MKTtcbiAgY29uc3QgY29tcG9uZW50cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBjb21wb25lbnRPdmVycmlkZXMgPyBtZXJnZUNvbXBvbmVudHMoZGVmYXVsdENvbXBvbmVudHMsIGNvbXBvbmVudE92ZXJyaWRlcykgOiBkZWZhdWx0Q29tcG9uZW50cztcbiAgfSwgW2NvbXBvbmVudE92ZXJyaWRlc10pO1xuICBjb25zdCByZW5kZXJOb2RlID0gdXNlTWVtbygoKSA9PiBnZXROb2RlUmVuZGVyZXIoY29tcG9uZW50cywgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCksIFtjb21wb25lbnRzLCBoYW5kbGVNaXNzaW5nQ29tcG9uZW50XSk7XG4gIGNvbnN0IHJlbmRlcmVkID0gbmVzdGVkLm1hcCgobm9kZSwgaW5kZXgpID0+IHJlbmRlck5vZGUoe1xuICAgIG5vZGUsXG4gICAgaW5kZXgsXG4gICAgaXNJbmxpbmU6IGZhbHNlLFxuICAgIHJlbmRlck5vZGVcbiAgfSkpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KEZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IHJlbmRlcmVkXG4gIH0pO1xufVxuY29uc3QgZ2V0Tm9kZVJlbmRlcmVyID0gKGNvbXBvbmVudHMsIGhhbmRsZU1pc3NpbmdDb21wb25lbnQpID0+IHtcbiAgZnVuY3Rpb24gcmVuZGVyTm9kZShvcHRpb25zKSB7XG4gICAgY29uc3Qge1xuICAgICAgbm9kZSxcbiAgICAgIGluZGV4LFxuICAgICAgaXNJbmxpbmVcbiAgICB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBrZXkgPSBub2RlLl9rZXkgfHwgXCJub2RlLVwiLmNvbmNhdChpbmRleCk7XG4gICAgaWYgKGlzUG9ydGFibGVUZXh0VG9vbGtpdExpc3Qobm9kZSkpIHtcbiAgICAgIHJldHVybiByZW5kZXJMaXN0KG5vZGUsIGluZGV4LCBrZXkpO1xuICAgIH1cbiAgICBpZiAoaXNQb3J0YWJsZVRleHRMaXN0SXRlbUJsb2NrKG5vZGUpKSB7XG4gICAgICByZXR1cm4gcmVuZGVyTGlzdEl0ZW0obm9kZSwgaW5kZXgsIGtleSk7XG4gICAgfVxuICAgIGlmIChpc1BvcnRhYmxlVGV4dFRvb2xraXRTcGFuKG5vZGUpKSB7XG4gICAgICByZXR1cm4gcmVuZGVyU3Bhbihub2RlLCBpbmRleCwga2V5KTtcbiAgICB9XG4gICAgaWYgKGhhc0N1c3RvbUNvbXBvbmVudEZvck5vZGUobm9kZSkpIHtcbiAgICAgIHJldHVybiByZW5kZXJDdXN0b21CbG9jayhub2RlLCBpbmRleCwga2V5LCBpc0lubGluZSk7XG4gICAgfVxuICAgIGlmIChpc1BvcnRhYmxlVGV4dEJsb2NrKG5vZGUpKSB7XG4gICAgICByZXR1cm4gcmVuZGVyQmxvY2sobm9kZSwgaW5kZXgsIGtleSwgaXNJbmxpbmUpO1xuICAgIH1cbiAgICBpZiAoaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUobm9kZSkpIHtcbiAgICAgIHJldHVybiByZW5kZXJUZXh0KG5vZGUsIGtleSk7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJVbmtub3duVHlwZShub2RlLCBpbmRleCwga2V5LCBpc0lubGluZSk7XG4gIH1cbiAgZnVuY3Rpb24gaGFzQ3VzdG9tQ29tcG9uZW50Rm9yTm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuX3R5cGUgaW4gY29tcG9uZW50cy50eXBlcztcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJMaXN0SXRlbShub2RlLCBpbmRleCwga2V5KSB7XG4gICAgY29uc3QgdHJlZSA9IHNlcmlhbGl6ZUJsb2NrKHtcbiAgICAgIG5vZGUsXG4gICAgICBpbmRleCxcbiAgICAgIGlzSW5saW5lOiBmYWxzZSxcbiAgICAgIHJlbmRlck5vZGVcbiAgICB9KTtcbiAgICBjb25zdCByZW5kZXJlciA9IGNvbXBvbmVudHMubGlzdEl0ZW07XG4gICAgY29uc3QgaGFuZGxlciA9IHR5cGVvZiByZW5kZXJlciA9PT0gXCJmdW5jdGlvblwiID8gcmVuZGVyZXIgOiByZW5kZXJlcltub2RlLmxpc3RJdGVtXTtcbiAgICBjb25zdCBMaSA9IGhhbmRsZXIgfHwgY29tcG9uZW50cy51bmtub3duTGlzdEl0ZW07XG4gICAgaWYgKExpID09PSBjb21wb25lbnRzLnVua25vd25MaXN0SXRlbSkge1xuICAgICAgY29uc3Qgc3R5bGUgPSBub2RlLmxpc3RJdGVtIHx8IFwiYnVsbGV0XCI7XG4gICAgICBoYW5kbGVNaXNzaW5nQ29tcG9uZW50KHVua25vd25MaXN0SXRlbVN0eWxlV2FybmluZyhzdHlsZSksIHtcbiAgICAgICAgdHlwZTogc3R5bGUsXG4gICAgICAgIG5vZGVUeXBlOiBcImxpc3RJdGVtU3R5bGVcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBjaGlsZHJlbiA9IHRyZWUuY2hpbGRyZW47XG4gICAgaWYgKG5vZGUuc3R5bGUgJiYgbm9kZS5zdHlsZSAhPT0gXCJub3JtYWxcIikge1xuICAgICAgY29uc3Qge1xuICAgICAgICAgIGxpc3RJdGVtXG4gICAgICAgIH0gPSBub2RlLFxuICAgICAgICBibG9ja05vZGUgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMobm9kZSwgX2V4Y2x1ZGVkMik7XG4gICAgICBjaGlsZHJlbiA9IHJlbmRlck5vZGUoe1xuICAgICAgICBub2RlOiBibG9ja05vZGUsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBpc0lubGluZTogZmFsc2UsXG4gICAgICAgIHJlbmRlck5vZGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KExpLCB7XG4gICAgICB2YWx1ZTogbm9kZSxcbiAgICAgIGluZGV4LFxuICAgICAgaXNJbmxpbmU6IGZhbHNlLFxuICAgICAgcmVuZGVyTm9kZSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfSwga2V5KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJMaXN0KG5vZGUsIGluZGV4LCBrZXkpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4ubWFwKChjaGlsZCwgY2hpbGRJbmRleCkgPT4gcmVuZGVyTm9kZSh7XG4gICAgICBub2RlOiBjaGlsZC5fa2V5ID8gY2hpbGQgOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNoaWxkKSwge30sIHtcbiAgICAgICAgX2tleTogXCJsaS1cIi5jb25jYXQoaW5kZXgsIFwiLVwiKS5jb25jYXQoY2hpbGRJbmRleClcbiAgICAgIH0pLFxuICAgICAgaW5kZXg6IGNoaWxkSW5kZXgsXG4gICAgICBpc0lubGluZTogZmFsc2UsXG4gICAgICByZW5kZXJOb2RlXG4gICAgfSkpO1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGNvbXBvbmVudHMubGlzdDtcbiAgICBjb25zdCBoYW5kbGVyID0gdHlwZW9mIGNvbXBvbmVudCA9PT0gXCJmdW5jdGlvblwiID8gY29tcG9uZW50IDogY29tcG9uZW50W25vZGUubGlzdEl0ZW1dO1xuICAgIGNvbnN0IExpc3QgPSBoYW5kbGVyIHx8IGNvbXBvbmVudHMudW5rbm93bkxpc3Q7XG4gICAgaWYgKExpc3QgPT09IGNvbXBvbmVudHMudW5rbm93bkxpc3QpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gbm9kZS5saXN0SXRlbSB8fCBcImJ1bGxldFwiO1xuICAgICAgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCh1bmtub3duTGlzdFN0eWxlV2FybmluZyhzdHlsZSksIHtcbiAgICAgICAgbm9kZVR5cGU6IFwibGlzdFN0eWxlXCIsXG4gICAgICAgIHR5cGU6IHN0eWxlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChMaXN0LCB7XG4gICAgICB2YWx1ZTogbm9kZSxcbiAgICAgIGluZGV4LFxuICAgICAgaXNJbmxpbmU6IGZhbHNlLFxuICAgICAgcmVuZGVyTm9kZSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfSwga2V5KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJTcGFuKG5vZGUsIF9pbmRleCwga2V5KSB7XG4gICAgY29uc3Qge1xuICAgICAgbWFya0RlZixcbiAgICAgIG1hcmtUeXBlLFxuICAgICAgbWFya0tleVxuICAgIH0gPSBub2RlO1xuICAgIGNvbnN0IFNwYW4gPSBjb21wb25lbnRzLm1hcmtzW21hcmtUeXBlXSB8fCBjb21wb25lbnRzLnVua25vd25NYXJrO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbi5tYXAoKGNoaWxkLCBjaGlsZEluZGV4KSA9PiByZW5kZXJOb2RlKHtcbiAgICAgIG5vZGU6IGNoaWxkLFxuICAgICAgaW5kZXg6IGNoaWxkSW5kZXgsXG4gICAgICBpc0lubGluZTogdHJ1ZSxcbiAgICAgIHJlbmRlck5vZGVcbiAgICB9KSk7XG4gICAgaWYgKFNwYW4gPT09IGNvbXBvbmVudHMudW5rbm93bk1hcmspIHtcbiAgICAgIGhhbmRsZU1pc3NpbmdDb21wb25lbnQodW5rbm93bk1hcmtXYXJuaW5nKG1hcmtUeXBlKSwge1xuICAgICAgICBub2RlVHlwZTogXCJtYXJrXCIsXG4gICAgICAgIHR5cGU6IG1hcmtUeXBlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChTcGFuLCB7XG4gICAgICB0ZXh0OiBzcGFuVG9QbGFpblRleHQobm9kZSksXG4gICAgICB2YWx1ZTogbWFya0RlZixcbiAgICAgIG1hcmtUeXBlLFxuICAgICAgbWFya0tleSxcbiAgICAgIHJlbmRlck5vZGUsXG4gICAgICBjaGlsZHJlblxuICAgIH0sIGtleSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVuZGVyQmxvY2sobm9kZSwgaW5kZXgsIGtleSwgaXNJbmxpbmUpIHtcbiAgICBjb25zdCBfc2VyaWFsaXplQmxvY2sgPSBzZXJpYWxpemVCbG9jayh7XG4gICAgICAgIG5vZGUsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBpc0lubGluZSxcbiAgICAgICAgcmVuZGVyTm9kZVxuICAgICAgfSksXG4gICAgICB7XG4gICAgICAgIF9rZXlcbiAgICAgIH0gPSBfc2VyaWFsaXplQmxvY2ssXG4gICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfc2VyaWFsaXplQmxvY2ssIF9leGNsdWRlZDMpO1xuICAgIGNvbnN0IHN0eWxlID0gcHJvcHMubm9kZS5zdHlsZSB8fCBcIm5vcm1hbFwiO1xuICAgIGNvbnN0IGhhbmRsZXIgPSB0eXBlb2YgY29tcG9uZW50cy5ibG9jayA9PT0gXCJmdW5jdGlvblwiID8gY29tcG9uZW50cy5ibG9jayA6IGNvbXBvbmVudHMuYmxvY2tbc3R5bGVdO1xuICAgIGNvbnN0IEJsb2NrID0gaGFuZGxlciB8fCBjb21wb25lbnRzLnVua25vd25CbG9ja1N0eWxlO1xuICAgIGlmIChCbG9jayA9PT0gY29tcG9uZW50cy51bmtub3duQmxvY2tTdHlsZSkge1xuICAgICAgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCh1bmtub3duQmxvY2tTdHlsZVdhcm5pbmcoc3R5bGUpLCB7XG4gICAgICAgIG5vZGVUeXBlOiBcImJsb2NrU3R5bGVcIixcbiAgICAgICAgdHlwZTogc3R5bGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KEJsb2NrLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHByb3BzKSwge30sIHtcbiAgICAgIHZhbHVlOiBwcm9wcy5ub2RlLFxuICAgICAgcmVuZGVyTm9kZVxuICAgIH0pLCBrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlclRleHQobm9kZSwga2V5KSB7XG4gICAgaWYgKG5vZGUudGV4dCA9PT0gXCJcXG5cIikge1xuICAgICAgY29uc3QgSGFyZEJyZWFrID0gY29tcG9uZW50cy5oYXJkQnJlYWs7XG4gICAgICByZXR1cm4gSGFyZEJyZWFrID8gLyogQF9fUFVSRV9fICovanN4KEhhcmRCcmVhaywge30sIGtleSkgOiBcIlxcblwiO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZS50ZXh0O1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlclVua25vd25UeXBlKG5vZGUsIGluZGV4LCBrZXksIGlzSW5saW5lKSB7XG4gICAgY29uc3Qgbm9kZU9wdGlvbnMgPSB7XG4gICAgICB2YWx1ZTogbm9kZSxcbiAgICAgIGlzSW5saW5lLFxuICAgICAgaW5kZXgsXG4gICAgICByZW5kZXJOb2RlXG4gICAgfTtcbiAgICBoYW5kbGVNaXNzaW5nQ29tcG9uZW50KHVua25vd25UeXBlV2FybmluZyhub2RlLl90eXBlKSwge1xuICAgICAgbm9kZVR5cGU6IFwiYmxvY2tcIixcbiAgICAgIHR5cGU6IG5vZGUuX3R5cGVcbiAgICB9KTtcbiAgICBjb25zdCBVbmtub3duVHlwZSA9IGNvbXBvbmVudHMudW5rbm93blR5cGU7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChVbmtub3duVHlwZSwgX29iamVjdFNwcmVhZCh7fSwgbm9kZU9wdGlvbnMpLCBrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlckN1c3RvbUJsb2NrKG5vZGUsIGluZGV4LCBrZXksIGlzSW5saW5lKSB7XG4gICAgY29uc3Qgbm9kZU9wdGlvbnMgPSB7XG4gICAgICB2YWx1ZTogbm9kZSxcbiAgICAgIGlzSW5saW5lLFxuICAgICAgaW5kZXgsXG4gICAgICByZW5kZXJOb2RlXG4gICAgfTtcbiAgICBjb25zdCBOb2RlID0gY29tcG9uZW50cy50eXBlc1tub2RlLl90eXBlXTtcbiAgICByZXR1cm4gTm9kZSA/IC8qIEBfX1BVUkVfXyAqL2pzeChOb2RlLCBfb2JqZWN0U3ByZWFkKHt9LCBub2RlT3B0aW9ucyksIGtleSkgOiBudWxsO1xuICB9XG4gIHJldHVybiByZW5kZXJOb2RlO1xufTtcbmZ1bmN0aW9uIHNlcmlhbGl6ZUJsb2NrKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIG5vZGUsXG4gICAgaW5kZXgsXG4gICAgaXNJbmxpbmUsXG4gICAgcmVuZGVyTm9kZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgdHJlZSA9IGJ1aWxkTWFya3NUcmVlKG5vZGUpO1xuICBjb25zdCBjaGlsZHJlbiA9IHRyZWUubWFwKChjaGlsZCwgaSkgPT4gcmVuZGVyTm9kZSh7XG4gICAgbm9kZTogY2hpbGQsXG4gICAgaXNJbmxpbmU6IHRydWUsXG4gICAgaW5kZXg6IGksXG4gICAgcmVuZGVyTm9kZVxuICB9KSk7XG4gIHJldHVybiB7XG4gICAgX2tleTogbm9kZS5fa2V5IHx8IFwiYmxvY2stXCIuY29uY2F0KGluZGV4KSxcbiAgICBjaGlsZHJlbixcbiAgICBpbmRleCxcbiAgICBpc0lubGluZSxcbiAgICBub2RlXG4gIH07XG59XG5mdW5jdGlvbiBub29wKCkge31cbmV4cG9ydCB7IFBvcnRhYmxlVGV4dCwgZGVmYXVsdENvbXBvbmVudHMsIG1lcmdlQ29tcG9uZW50cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiX2V4Y2x1ZGVkIiwiX2V4Y2x1ZGVkMiIsIl9leGNsdWRlZDMiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5Iiwib2JqIiwia2V5IiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiY2FsbCIsIlR5cGVFcnJvciIsIk51bWJlciIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsInNvdXJjZSIsImV4Y2x1ZGVkIiwidGFyZ2V0IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJpIiwic291cmNlU3ltYm9sS2V5cyIsImluZGV4T2YiLCJwcm90b3R5cGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInNvdXJjZUtleXMiLCJuZXN0TGlzdHMiLCJMSVNUX05FU1RfTU9ERV9IVE1MIiwiaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdCIsImlzUG9ydGFibGVUZXh0TGlzdEl0ZW1CbG9jayIsImlzUG9ydGFibGVUZXh0VG9vbGtpdFNwYW4iLCJpc1BvcnRhYmxlVGV4dEJsb2NrIiwiaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUiLCJzcGFuVG9QbGFpblRleHQiLCJidWlsZE1hcmtzVHJlZSIsInRvUGxhaW5UZXh0IiwianN4IiwiRnJhZ21lbnQiLCJ1c2VNZW1vIiwibWVyZ2VDb21wb25lbnRzIiwicGFyZW50Iiwib3ZlcnJpZGVzIiwiYmxvY2siLCJsaXN0IiwibGlzdEl0ZW0iLCJtYXJrcyIsInR5cGVzIiwicmVzdCIsIm1lcmdlRGVlcGx5Iiwib3ZlcnJpZGUiLCJwYXJlbnRWYWwiLCJsaW5rIiwiX3JlZiIsImNoaWxkcmVuIiwiaHJlZiIsInVuZGVybGluZVN0eWxlIiwidGV4dERlY29yYXRpb24iLCJkZWZhdWx0TWFya3MiLCJlbSIsIl9yZWYyIiwic3Ryb25nIiwiX3JlZjMiLCJjb2RlIiwiX3JlZjQiLCJ1bmRlcmxpbmUiLCJfcmVmNSIsInN0eWxlIiwiX3JlZjYiLCJkZWZhdWx0TGlzdHMiLCJudW1iZXIiLCJfcmVmNyIsImJ1bGxldCIsIl9yZWY4IiwiRGVmYXVsdExpc3RJdGVtIiwiX3JlZjkiLCJnZXRUZW1wbGF0ZSIsInR5cGUiLCJwcm9wIiwiY29uY2F0IiwidW5rbm93blR5cGVXYXJuaW5nIiwidHlwZU5hbWUiLCJ1bmtub3duTWFya1dhcm5pbmciLCJtYXJrVHlwZSIsInVua25vd25CbG9ja1N0eWxlV2FybmluZyIsImJsb2NrU3R5bGUiLCJ1bmtub3duTGlzdFN0eWxlV2FybmluZyIsImxpc3RTdHlsZSIsInVua25vd25MaXN0SXRlbVN0eWxlV2FybmluZyIsInByaW50V2FybmluZyIsIm1lc3NhZ2UiLCJjb25zb2xlIiwid2FybiIsImhpZGRlbiIsImRpc3BsYXkiLCJEZWZhdWx0VW5rbm93blR5cGUiLCJfcmVmMTAiLCJpc0lubGluZSIsIndhcm5pbmciLCJfdHlwZSIsIkRlZmF1bHRVbmtub3duTWFyayIsIl9yZWYxMSIsImNsYXNzTmFtZSIsIkRlZmF1bHRVbmtub3duQmxvY2tTdHlsZSIsIl9yZWYxMiIsIkRlZmF1bHRVbmtub3duTGlzdCIsIl9yZWYxMyIsIkRlZmF1bHRVbmtub3duTGlzdEl0ZW0iLCJfcmVmMTQiLCJEZWZhdWx0SGFyZEJyZWFrIiwiZGVmYXVsdEJsb2NrU3R5bGVzIiwibm9ybWFsIiwiX3JlZjE1IiwiYmxvY2txdW90ZSIsIl9yZWYxNiIsImgxIiwiX3JlZjE3IiwiaDIiLCJfcmVmMTgiLCJoMyIsIl9yZWYxOSIsImg0IiwiX3JlZjIwIiwiaDUiLCJfcmVmMjEiLCJoNiIsIl9yZWYyMiIsImRlZmF1bHRDb21wb25lbnRzIiwiaGFyZEJyZWFrIiwidW5rbm93blR5cGUiLCJ1bmtub3duTWFyayIsInVua25vd25MaXN0IiwidW5rbm93bkxpc3RJdGVtIiwidW5rbm93bkJsb2NrU3R5bGUiLCJQb3J0YWJsZVRleHQiLCJfcmVmMjMiLCJjb21wb25lbnRzIiwiY29tcG9uZW50T3ZlcnJpZGVzIiwibGlzdE5lc3RpbmdNb2RlIiwib25NaXNzaW5nQ29tcG9uZW50IiwibWlzc2luZ0NvbXBvbmVudEhhbmRsZXIiLCJoYW5kbGVNaXNzaW5nQ29tcG9uZW50Iiwibm9vcCIsImJsb2NrcyIsIkFycmF5IiwiaXNBcnJheSIsIm5lc3RlZCIsInJlbmRlck5vZGUiLCJnZXROb2RlUmVuZGVyZXIiLCJyZW5kZXJlZCIsIm1hcCIsIm5vZGUiLCJpbmRleCIsIm9wdGlvbnMiLCJfa2V5IiwicmVuZGVyTGlzdCIsInJlbmRlckxpc3RJdGVtIiwicmVuZGVyU3BhbiIsImhhc0N1c3RvbUNvbXBvbmVudEZvck5vZGUiLCJyZW5kZXJDdXN0b21CbG9jayIsInJlbmRlckJsb2NrIiwicmVuZGVyVGV4dCIsInJlbmRlclVua25vd25UeXBlIiwidHJlZSIsInNlcmlhbGl6ZUJsb2NrIiwicmVuZGVyZXIiLCJoYW5kbGVyIiwiTGkiLCJub2RlVHlwZSIsImJsb2NrTm9kZSIsImNoaWxkIiwiY2hpbGRJbmRleCIsImNvbXBvbmVudCIsIkxpc3QiLCJfaW5kZXgiLCJtYXJrRGVmIiwibWFya0tleSIsIlNwYW4iLCJ0ZXh0IiwiX3NlcmlhbGl6ZUJsb2NrIiwicHJvcHMiLCJCbG9jayIsIkhhcmRCcmVhayIsIm5vZGVPcHRpb25zIiwiVW5rbm93blR5cGUiLCJOb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@portabletext/react/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@portabletext/toolkit/dist/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@portabletext/toolkit/dist/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LIST_NEST_MODE_DIRECT: () => (/* binding */ LIST_NEST_MODE_DIRECT),\n/* harmony export */   LIST_NEST_MODE_HTML: () => (/* binding */ LIST_NEST_MODE_HTML),\n/* harmony export */   buildMarksTree: () => (/* binding */ buildMarksTree),\n/* harmony export */   isPortableTextBlock: () => (/* binding */ isPortableTextBlock),\n/* harmony export */   isPortableTextListItemBlock: () => (/* binding */ isPortableTextListItemBlock),\n/* harmony export */   isPortableTextSpan: () => (/* binding */ isPortableTextSpan),\n/* harmony export */   isPortableTextToolkitList: () => (/* binding */ isPortableTextToolkitList),\n/* harmony export */   isPortableTextToolkitSpan: () => (/* binding */ isPortableTextToolkitSpan),\n/* harmony export */   isPortableTextToolkitTextNode: () => (/* binding */ isPortableTextToolkitTextNode),\n/* harmony export */   nestLists: () => (/* binding */ nestLists),\n/* harmony export */   sortMarksByOccurences: () => (/* binding */ sortMarksByOccurences),\n/* harmony export */   spanToPlainText: () => (/* binding */ spanToPlainText),\n/* harmony export */   toPlainText: () => (/* binding */ toPlainText)\n/* harmony export */ });\nfunction ownKeys(e, r) {\n    var t = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n        var o = Object.getOwnPropertySymbols(e);\n        r && (o = o.filter(function(r) {\n            return Object.getOwnPropertyDescriptor(e, r).enumerable;\n        })), t.push.apply(t, o);\n    }\n    return t;\n}\nfunction _objectSpread(e) {\n    for(var r = 1; r < arguments.length; r++){\n        var t = null != arguments[r] ? arguments[r] : {};\n        r % 2 ? ownKeys(Object(t), !0).forEach(function(r) {\n            _defineProperty(e, r, t[r]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r) {\n            Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n        });\n    }\n    return e;\n}\nfunction _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n        var res = prim.call(input, hint || \"default\");\n        if (typeof res !== \"object\") return res;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n}\nfunction isPortableTextSpan(node) {\n    return node._type === \"span\" && \"text\" in node && typeof node.text === \"string\" && (typeof node.marks === \"undefined\" || Array.isArray(node.marks) && node.marks.every((mark)=>typeof mark === \"string\"));\n}\nfunction isPortableTextBlock(node) {\n    return(// A block doesn't _have_ to be named 'block' - to differentiate between\n    // allowed child types and marks, one might name them differently\n    typeof node._type === \"string\" && // Toolkit-types like nested spans are @-prefixed\n    node._type[0] !== \"@\" && // `markDefs` isn't _required_ per say, but if it's there, it needs to be an array\n    (!(\"markDefs\" in node) || !node.markDefs || Array.isArray(node.markDefs) && // Every mark definition needs to have an `_key` to be mappable in child spans\n    node.markDefs.every((def)=>typeof def._key === \"string\")) && // `children` is required and needs to be an array\n    \"children\" in node && Array.isArray(node.children) && // All children are objects with `_type` (usually spans, but can contain other stuff)\n    node.children.every((child)=>typeof child === \"object\" && \"_type\" in child));\n}\nfunction isPortableTextListItemBlock(block) {\n    return isPortableTextBlock(block) && \"listItem\" in block && typeof block.listItem === \"string\" && (typeof block.level === \"undefined\" || typeof block.level === \"number\");\n}\nfunction isPortableTextToolkitList(block) {\n    return block._type === \"@list\";\n}\nfunction isPortableTextToolkitSpan(span) {\n    return span._type === \"@span\";\n}\nfunction isPortableTextToolkitTextNode(node) {\n    return node._type === \"@text\";\n}\nconst knownDecorators = [\n    \"strong\",\n    \"em\",\n    \"code\",\n    \"underline\",\n    \"strike-through\"\n];\nfunction sortMarksByOccurences(span, index, blockChildren) {\n    if (!isPortableTextSpan(span) || !span.marks) {\n        return [];\n    }\n    if (!span.marks.length) {\n        return [];\n    }\n    const marks = span.marks.slice();\n    const occurences = {};\n    marks.forEach((mark)=>{\n        occurences[mark] = 1;\n        for(let siblingIndex = index + 1; siblingIndex < blockChildren.length; siblingIndex++){\n            const sibling = blockChildren[siblingIndex];\n            if (sibling && isPortableTextSpan(sibling) && Array.isArray(sibling.marks) && sibling.marks.indexOf(mark) !== -1) {\n                occurences[mark]++;\n            } else {\n                break;\n            }\n        }\n    });\n    return marks.sort((markA, markB)=>sortMarks(occurences, markA, markB));\n}\nfunction sortMarks(occurences, markA, markB) {\n    const aOccurences = occurences[markA];\n    const bOccurences = occurences[markB];\n    if (aOccurences !== bOccurences) {\n        return bOccurences - aOccurences;\n    }\n    const aKnownPos = knownDecorators.indexOf(markA);\n    const bKnownPos = knownDecorators.indexOf(markB);\n    if (aKnownPos !== bKnownPos) {\n        return aKnownPos - bKnownPos;\n    }\n    return markA.localeCompare(markB);\n}\nfunction buildMarksTree(block) {\n    var _a;\n    const { children, markDefs = [] } = block;\n    if (!children || !children.length) {\n        return [];\n    }\n    const sortedMarks = children.map(sortMarksByOccurences);\n    const rootNode = {\n        _type: \"@span\",\n        children: [],\n        markType: \"<unknown>\"\n    };\n    let nodeStack = [\n        rootNode\n    ];\n    for(let i = 0; i < children.length; i++){\n        const span = children[i];\n        if (!span) {\n            continue;\n        }\n        const marksNeeded = sortedMarks[i] || [];\n        let pos = 1;\n        if (nodeStack.length > 1) {\n            for(pos; pos < nodeStack.length; pos++){\n                const mark = ((_a = nodeStack[pos]) == null ? void 0 : _a.markKey) || \"\";\n                const index = marksNeeded.indexOf(mark);\n                if (index === -1) {\n                    break;\n                }\n                marksNeeded.splice(index, 1);\n            }\n        }\n        nodeStack = nodeStack.slice(0, pos);\n        let currentNode = nodeStack[nodeStack.length - 1];\n        if (!currentNode) {\n            continue;\n        }\n        for (const markKey of marksNeeded){\n            const markDef = markDefs.find((def)=>def._key === markKey);\n            const markType = markDef ? markDef._type : markKey;\n            const node = {\n                _type: \"@span\",\n                _key: span._key,\n                children: [],\n                markDef,\n                markType,\n                markKey\n            };\n            currentNode.children.push(node);\n            nodeStack.push(node);\n            currentNode = node;\n        }\n        if (isPortableTextSpan(span)) {\n            const lines = span.text.split(\"\\n\");\n            for(let line = lines.length; line-- > 1;){\n                lines.splice(line, 0, \"\\n\");\n            }\n            currentNode.children = currentNode.children.concat(lines.map((text)=>({\n                    _type: \"@text\",\n                    text\n                })));\n        } else {\n            currentNode.children = currentNode.children.concat(span);\n        }\n    }\n    return rootNode.children;\n}\nfunction nestLists(blocks, mode) {\n    const tree = [];\n    let currentList;\n    for(let i = 0; i < blocks.length; i++){\n        const block = blocks[i];\n        if (!block) {\n            continue;\n        }\n        if (!isPortableTextListItemBlock(block)) {\n            tree.push(block);\n            currentList = void 0;\n            continue;\n        }\n        if (!currentList) {\n            currentList = listFromBlock(block, i, mode);\n            tree.push(currentList);\n            continue;\n        }\n        if (blockMatchesList(block, currentList)) {\n            currentList.children.push(block);\n            continue;\n        }\n        if ((block.level || 1) > currentList.level) {\n            const newList = listFromBlock(block, i, mode);\n            if (mode === \"html\") {\n                const lastListItem = currentList.children[currentList.children.length - 1];\n                const newLastChild = _objectSpread(_objectSpread({}, lastListItem), {}, {\n                    children: [\n                        ...lastListItem.children,\n                        newList\n                    ]\n                });\n                currentList.children[currentList.children.length - 1] = newLastChild;\n            } else {\n                currentList.children.push(newList);\n            }\n            currentList = newList;\n            continue;\n        }\n        if ((block.level || 1) < currentList.level) {\n            const matchingBranch = tree[tree.length - 1];\n            const match = matchingBranch && findListMatching(matchingBranch, block);\n            if (match) {\n                currentList = match;\n                currentList.children.push(block);\n                continue;\n            }\n            currentList = listFromBlock(block, i, mode);\n            tree.push(currentList);\n            continue;\n        }\n        if (block.listItem !== currentList.listItem) {\n            const matchingBranch = tree[tree.length - 1];\n            const match = matchingBranch && findListMatching(matchingBranch, {\n                level: block.level || 1\n            });\n            if (match && match.listItem === block.listItem) {\n                currentList = match;\n                currentList.children.push(block);\n                continue;\n            } else {\n                currentList = listFromBlock(block, i, mode);\n                tree.push(currentList);\n                continue;\n            }\n        }\n        console.warn(\"Unknown state encountered for block\", block);\n        tree.push(block);\n    }\n    return tree;\n}\nfunction blockMatchesList(block, list) {\n    return (block.level || 1) === list.level && block.listItem === list.listItem;\n}\nfunction listFromBlock(block, index, mode) {\n    return {\n        _type: \"@list\",\n        _key: \"\".concat(block._key || \"\".concat(index), \"-parent\"),\n        mode,\n        level: block.level || 1,\n        listItem: block.listItem,\n        children: [\n            block\n        ]\n    };\n}\nfunction findListMatching(rootNode, matching) {\n    const level = matching.level || 1;\n    const style = matching.listItem || \"normal\";\n    const filterOnType = typeof matching.listItem === \"string\";\n    if (isPortableTextToolkitList(rootNode) && (rootNode.level || 1) === level && filterOnType && (rootNode.listItem || \"normal\") === style) {\n        return rootNode;\n    }\n    if (!(\"children\" in rootNode)) {\n        return void 0;\n    }\n    const node = rootNode.children[rootNode.children.length - 1];\n    return node && !isPortableTextSpan(node) ? findListMatching(node, matching) : void 0;\n}\nconst leadingSpace = /^\\s/;\nconst trailingSpace = /^\\s/;\nfunction toPlainText(block) {\n    const blocks = Array.isArray(block) ? block : [\n        block\n    ];\n    let text = \"\";\n    blocks.forEach((current, index)=>{\n        if (!isPortableTextBlock(current)) {\n            return;\n        }\n        let pad = false;\n        current.children.forEach((span)=>{\n            if (isPortableTextSpan(span)) {\n                text += pad && text && !trailingSpace.test(text) && !leadingSpace.test(span.text) ? \" \" : \"\";\n                text += span.text;\n                pad = false;\n            } else {\n                pad = true;\n            }\n        });\n        if (index !== blocks.length - 1) {\n            text += \"\\n\\n\";\n        }\n    });\n    return text;\n}\nfunction spanToPlainText(span) {\n    let text = \"\";\n    span.children.forEach((current)=>{\n        if (isPortableTextToolkitTextNode(current)) {\n            text += current.text;\n        } else if (isPortableTextToolkitSpan(current)) {\n            text += spanToPlainText(current);\n        }\n    });\n    return text;\n}\nconst LIST_NEST_MODE_HTML = \"html\";\nconst LIST_NEST_MODE_DIRECT = \"direct\";\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHBvcnRhYmxldGV4dC90b29sa2l0L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLFNBQVNBLFFBQVFDLENBQUMsRUFBRUMsQ0FBQztJQUFJLElBQUlDLElBQUlDLE9BQU9DLElBQUksQ0FBQ0o7SUFBSSxJQUFJRyxPQUFPRSxxQkFBcUIsRUFBRTtRQUFFLElBQUlDLElBQUlILE9BQU9FLHFCQUFxQixDQUFDTDtRQUFJQyxLQUFNSyxDQUFBQSxJQUFJQSxFQUFFQyxNQUFNLENBQUMsU0FBVU4sQ0FBQztZQUFJLE9BQU9FLE9BQU9LLHdCQUF3QixDQUFDUixHQUFHQyxHQUFHUSxVQUFVO1FBQUUsRUFBQyxHQUFJUCxFQUFFUSxJQUFJLENBQUNDLEtBQUssQ0FBQ1QsR0FBR0k7SUFBSTtJQUFFLE9BQU9KO0FBQUc7QUFDOVAsU0FBU1UsY0FBY1osQ0FBQztJQUFJLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJWSxVQUFVQyxNQUFNLEVBQUViLElBQUs7UUFBRSxJQUFJQyxJQUFJLFFBQVFXLFNBQVMsQ0FBQ1osRUFBRSxHQUFHWSxTQUFTLENBQUNaLEVBQUUsR0FBRyxDQUFDO1FBQUdBLElBQUksSUFBSUYsUUFBUUksT0FBT0QsSUFBSSxDQUFDLEdBQUdhLE9BQU8sQ0FBQyxTQUFVZCxDQUFDO1lBQUllLGdCQUFnQmhCLEdBQUdDLEdBQUdDLENBQUMsQ0FBQ0QsRUFBRTtRQUFHLEtBQUtFLE9BQU9jLHlCQUF5QixHQUFHZCxPQUFPZSxnQkFBZ0IsQ0FBQ2xCLEdBQUdHLE9BQU9jLHlCQUF5QixDQUFDZixNQUFNSCxRQUFRSSxPQUFPRCxJQUFJYSxPQUFPLENBQUMsU0FBVWQsQ0FBQztZQUFJRSxPQUFPZ0IsY0FBYyxDQUFDbkIsR0FBR0MsR0FBR0UsT0FBT0ssd0JBQXdCLENBQUNOLEdBQUdEO1FBQUs7SUFBSTtJQUFFLE9BQU9EO0FBQUc7QUFDdGIsU0FBU2dCLGdCQUFnQkksR0FBRyxF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QUFJMUQsVUFBVW9DLE9BQU90RixNQUFNLEdBQUcsR0FBRztZQUMvQjRCLFFBQVE7UUFDVjtJQUNGO0lBQ0EsT0FBT0E7QUFDVDtBQUNBLFNBQVNrRixnQkFBZ0JoRSxJQUFJO0lBQzNCLElBQUlsQixPQUFPO0lBQ1hrQixLQUFLUixRQUFRLENBQUNyQyxPQUFPLENBQUMwRyxDQUFBQTtRQUNwQixJQUFJNUQsOEJBQThCNEQsVUFBVTtZQUMxQy9FLFFBQVErRSxRQUFRL0UsSUFBSTtRQUN0QixPQUFPLElBQUlpQiwwQkFBMEI4RCxVQUFVO1lBQzdDL0UsUUFBUWtGLGdCQUFnQkg7UUFDMUI7SUFDRjtJQUNBLE9BQU8vRTtBQUNUO0FBQ0EsTUFBTW1GLHNCQUFzQjtBQUM1QixNQUFNQyx3QkFBd0I7QUFDbVEsQ0FDalMsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2xpLWNyb3NzbGFuZC12aWRlb2dyYXBoeS8uL25vZGVfbW9kdWxlcy9AcG9ydGFibGV0ZXh0L3Rvb2xraXQvZGlzdC9pbmRleC5qcz9iMDRjIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpOyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiB0eXBlb2Yga2V5ID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAodHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKHR5cGVvZiByZXMgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxuZnVuY3Rpb24gaXNQb3J0YWJsZVRleHRTcGFuKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuX3R5cGUgPT09IFwic3BhblwiICYmIFwidGV4dFwiIGluIG5vZGUgJiYgdHlwZW9mIG5vZGUudGV4dCA9PT0gXCJzdHJpbmdcIiAmJiAodHlwZW9mIG5vZGUubWFya3MgPT09IFwidW5kZWZpbmVkXCIgfHwgQXJyYXkuaXNBcnJheShub2RlLm1hcmtzKSAmJiBub2RlLm1hcmtzLmV2ZXJ5KG1hcmsgPT4gdHlwZW9mIG1hcmsgPT09IFwic3RyaW5nXCIpKTtcbn1cbmZ1bmN0aW9uIGlzUG9ydGFibGVUZXh0QmxvY2sobm9kZSkge1xuICByZXR1cm4gKFxuICAgIC8vIEEgYmxvY2sgZG9lc24ndCBfaGF2ZV8gdG8gYmUgbmFtZWQgJ2Jsb2NrJyAtIHRvIGRpZmZlcmVudGlhdGUgYmV0d2VlblxuICAgIC8vIGFsbG93ZWQgY2hpbGQgdHlwZXMgYW5kIG1hcmtzLCBvbmUgbWlnaHQgbmFtZSB0aGVtIGRpZmZlcmVudGx5XG4gICAgdHlwZW9mIG5vZGUuX3R5cGUgPT09IFwic3RyaW5nXCIgJiZcbiAgICAvLyBUb29sa2l0LXR5cGVzIGxpa2UgbmVzdGVkIHNwYW5zIGFyZSBALXByZWZpeGVkXG4gICAgbm9kZS5fdHlwZVswXSAhPT0gXCJAXCIgJiYgKFxuICAgIC8vIGBtYXJrRGVmc2AgaXNuJ3QgX3JlcXVpcmVkXyBwZXIgc2F5LCBidXQgaWYgaXQncyB0aGVyZSwgaXQgbmVlZHMgdG8gYmUgYW4gYXJyYXlcbiAgICAhKFwibWFya0RlZnNcIiBpbiBub2RlKSB8fCAhbm9kZS5tYXJrRGVmcyB8fCBBcnJheS5pc0FycmF5KG5vZGUubWFya0RlZnMpICYmXG4gICAgLy8gRXZlcnkgbWFyayBkZWZpbml0aW9uIG5lZWRzIHRvIGhhdmUgYW4gYF9rZXlgIHRvIGJlIG1hcHBhYmxlIGluIGNoaWxkIHNwYW5zXG4gICAgbm9kZS5tYXJrRGVmcy5ldmVyeShkZWYgPT4gdHlwZW9mIGRlZi5fa2V5ID09PSBcInN0cmluZ1wiKSkgJiZcbiAgICAvLyBgY2hpbGRyZW5gIGlzIHJlcXVpcmVkIGFuZCBuZWVkcyB0byBiZSBhbiBhcnJheVxuICAgIFwiY2hpbGRyZW5cIiBpbiBub2RlICYmIEFycmF5LmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiZcbiAgICAvLyBBbGwgY2hpbGRyZW4gYXJlIG9iamVjdHMgd2l0aCBgX3R5cGVgICh1c3VhbGx5IHNwYW5zLCBidXQgY2FuIGNvbnRhaW4gb3RoZXIgc3R1ZmYpXG4gICAgbm9kZS5jaGlsZHJlbi5ldmVyeShjaGlsZCA9PiB0eXBlb2YgY2hpbGQgPT09IFwib2JqZWN0XCIgJiYgXCJfdHlwZVwiIGluIGNoaWxkKVxuICApO1xufVxuZnVuY3Rpb24gaXNQb3J0YWJsZVRleHRMaXN0SXRlbUJsb2NrKGJsb2NrKSB7XG4gIHJldHVybiBpc1BvcnRhYmxlVGV4dEJsb2NrKGJsb2NrKSAmJiBcImxpc3RJdGVtXCIgaW4gYmxvY2sgJiYgdHlwZW9mIGJsb2NrLmxpc3RJdGVtID09PSBcInN0cmluZ1wiICYmICh0eXBlb2YgYmxvY2subGV2ZWwgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIGJsb2NrLmxldmVsID09PSBcIm51bWJlclwiKTtcbn1cbmZ1bmN0aW9uIGlzUG9ydGFibGVUZXh0VG9vbGtpdExpc3QoYmxvY2spIHtcbiAgcmV0dXJuIGJsb2NrLl90eXBlID09PSBcIkBsaXN0XCI7XG59XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dFRvb2xraXRTcGFuKHNwYW4pIHtcbiAgcmV0dXJuIHNwYW4uX3R5cGUgPT09IFwiQHNwYW5cIjtcbn1cbmZ1bmN0aW9uIGlzUG9ydGFibGVUZXh0VG9vbGtpdFRleHROb2RlKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuX3R5cGUgPT09IFwiQHRleHRcIjtcbn1cbmNvbnN0IGtub3duRGVjb3JhdG9ycyA9IFtcInN0cm9uZ1wiLCBcImVtXCIsIFwiY29kZVwiLCBcInVuZGVybGluZVwiLCBcInN0cmlrZS10aHJvdWdoXCJdO1xuZnVuY3Rpb24gc29ydE1hcmtzQnlPY2N1cmVuY2VzKHNwYW4sIGluZGV4LCBibG9ja0NoaWxkcmVuKSB7XG4gIGlmICghaXNQb3J0YWJsZVRleHRTcGFuKHNwYW4pIHx8ICFzcGFuLm1hcmtzKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmICghc3Bhbi5tYXJrcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgbWFya3MgPSBzcGFuLm1hcmtzLnNsaWNlKCk7XG4gIGNvbnN0IG9jY3VyZW5jZXMgPSB7fTtcbiAgbWFya3MuZm9yRWFjaChtYXJrID0+IHtcbiAgICBvY2N1cmVuY2VzW21hcmtdID0gMTtcbiAgICBmb3IgKGxldCBzaWJsaW5nSW5kZXggPSBpbmRleCArIDE7IHNpYmxpbmdJbmRleCA8IGJsb2NrQ2hpbGRyZW4ubGVuZ3RoOyBzaWJsaW5nSW5kZXgrKykge1xuICAgICAgY29uc3Qgc2libGluZyA9IGJsb2NrQ2hpbGRyZW5bc2libGluZ0luZGV4XTtcbiAgICAgIGlmIChzaWJsaW5nICYmIGlzUG9ydGFibGVUZXh0U3BhbihzaWJsaW5nKSAmJiBBcnJheS5pc0FycmF5KHNpYmxpbmcubWFya3MpICYmIHNpYmxpbmcubWFya3MuaW5kZXhPZihtYXJrKSAhPT0gLTEpIHtcbiAgICAgICAgb2NjdXJlbmNlc1ttYXJrXSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG1hcmtzLnNvcnQoKG1hcmtBLCBtYXJrQikgPT4gc29ydE1hcmtzKG9jY3VyZW5jZXMsIG1hcmtBLCBtYXJrQikpO1xufVxuZnVuY3Rpb24gc29ydE1hcmtzKG9jY3VyZW5jZXMsIG1hcmtBLCBtYXJrQikge1xuICBjb25zdCBhT2NjdXJlbmNlcyA9IG9jY3VyZW5jZXNbbWFya0FdO1xuICBjb25zdCBiT2NjdXJlbmNlcyA9IG9jY3VyZW5jZXNbbWFya0JdO1xuICBpZiAoYU9jY3VyZW5jZXMgIT09IGJPY2N1cmVuY2VzKSB7XG4gICAgcmV0dXJuIGJPY2N1cmVuY2VzIC0gYU9jY3VyZW5jZXM7XG4gIH1cbiAgY29uc3QgYUtub3duUG9zID0ga25vd25EZWNvcmF0b3JzLmluZGV4T2YobWFya0EpO1xuICBjb25zdCBiS25vd25Qb3MgPSBrbm93bkRlY29yYXRvcnMuaW5kZXhPZihtYXJrQik7XG4gIGlmIChhS25vd25Qb3MgIT09IGJLbm93blBvcykge1xuICAgIHJldHVybiBhS25vd25Qb3MgLSBiS25vd25Qb3M7XG4gIH1cbiAgcmV0dXJuIG1hcmtBLmxvY2FsZUNvbXBhcmUobWFya0IpO1xufVxuZnVuY3Rpb24gYnVpbGRNYXJrc1RyZWUoYmxvY2spIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW4sXG4gICAgbWFya0RlZnMgPSBbXVxuICB9ID0gYmxvY2s7XG4gIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBzb3J0ZWRNYXJrcyA9IGNoaWxkcmVuLm1hcChzb3J0TWFya3NCeU9jY3VyZW5jZXMpO1xuICBjb25zdCByb290Tm9kZSA9IHtcbiAgICBfdHlwZTogXCJAc3BhblwiLFxuICAgIGNoaWxkcmVuOiBbXSxcbiAgICBtYXJrVHlwZTogXCI8dW5rbm93bj5cIlxuICB9O1xuICBsZXQgbm9kZVN0YWNrID0gW3Jvb3ROb2RlXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHNwYW4gPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoIXNwYW4pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBtYXJrc05lZWRlZCA9IHNvcnRlZE1hcmtzW2ldIHx8IFtdO1xuICAgIGxldCBwb3MgPSAxO1xuICAgIGlmIChub2RlU3RhY2subGVuZ3RoID4gMSkge1xuICAgICAgZm9yIChwb3M7IHBvcyA8IG5vZGVTdGFjay5sZW5ndGg7IHBvcysrKSB7XG4gICAgICAgIGNvbnN0IG1hcmsgPSAoKF9hID0gbm9kZVN0YWNrW3Bvc10pID09IG51bGwgPyB2b2lkIDAgOiBfYS5tYXJrS2V5KSB8fCBcIlwiO1xuICAgICAgICBjb25zdCBpbmRleCA9IG1hcmtzTmVlZGVkLmluZGV4T2YobWFyayk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBtYXJrc05lZWRlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBub2RlU3RhY2sgPSBub2RlU3RhY2suc2xpY2UoMCwgcG9zKTtcbiAgICBsZXQgY3VycmVudE5vZGUgPSBub2RlU3RhY2tbbm9kZVN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGlmICghY3VycmVudE5vZGUpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG1hcmtLZXkgb2YgbWFya3NOZWVkZWQpIHtcbiAgICAgIGNvbnN0IG1hcmtEZWYgPSBtYXJrRGVmcy5maW5kKGRlZiA9PiBkZWYuX2tleSA9PT0gbWFya0tleSk7XG4gICAgICBjb25zdCBtYXJrVHlwZSA9IG1hcmtEZWYgPyBtYXJrRGVmLl90eXBlIDogbWFya0tleTtcbiAgICAgIGNvbnN0IG5vZGUgPSB7XG4gICAgICAgIF90eXBlOiBcIkBzcGFuXCIsXG4gICAgICAgIF9rZXk6IHNwYW4uX2tleSxcbiAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICBtYXJrRGVmLFxuICAgICAgICBtYXJrVHlwZSxcbiAgICAgICAgbWFya0tleVxuICAgICAgfTtcbiAgICAgIGN1cnJlbnROb2RlLmNoaWxkcmVuLnB1c2gobm9kZSk7XG4gICAgICBub2RlU3RhY2sucHVzaChub2RlKTtcbiAgICAgIGN1cnJlbnROb2RlID0gbm9kZTtcbiAgICB9XG4gICAgaWYgKGlzUG9ydGFibGVUZXh0U3BhbihzcGFuKSkge1xuICAgICAgY29uc3QgbGluZXMgPSBzcGFuLnRleHQuc3BsaXQoXCJcXG5cIik7XG4gICAgICBmb3IgKGxldCBsaW5lID0gbGluZXMubGVuZ3RoOyBsaW5lLS0gPiAxOykge1xuICAgICAgICBsaW5lcy5zcGxpY2UobGluZSwgMCwgXCJcXG5cIik7XG4gICAgICB9XG4gICAgICBjdXJyZW50Tm9kZS5jaGlsZHJlbiA9IGN1cnJlbnROb2RlLmNoaWxkcmVuLmNvbmNhdChsaW5lcy5tYXAodGV4dCA9PiAoe1xuICAgICAgICBfdHlwZTogXCJAdGV4dFwiLFxuICAgICAgICB0ZXh0XG4gICAgICB9KSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50Tm9kZS5jaGlsZHJlbiA9IGN1cnJlbnROb2RlLmNoaWxkcmVuLmNvbmNhdChzcGFuKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJvb3ROb2RlLmNoaWxkcmVuO1xufVxuZnVuY3Rpb24gbmVzdExpc3RzKGJsb2NrcywgbW9kZSkge1xuICBjb25zdCB0cmVlID0gW107XG4gIGxldCBjdXJyZW50TGlzdDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBibG9ja3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBibG9jayA9IGJsb2Nrc1tpXTtcbiAgICBpZiAoIWJsb2NrKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKCFpc1BvcnRhYmxlVGV4dExpc3RJdGVtQmxvY2soYmxvY2spKSB7XG4gICAgICB0cmVlLnB1c2goYmxvY2spO1xuICAgICAgY3VycmVudExpc3QgPSB2b2lkIDA7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKCFjdXJyZW50TGlzdCkge1xuICAgICAgY3VycmVudExpc3QgPSBsaXN0RnJvbUJsb2NrKGJsb2NrLCBpLCBtb2RlKTtcbiAgICAgIHRyZWUucHVzaChjdXJyZW50TGlzdCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGJsb2NrTWF0Y2hlc0xpc3QoYmxvY2ssIGN1cnJlbnRMaXN0KSkge1xuICAgICAgY3VycmVudExpc3QuY2hpbGRyZW4ucHVzaChibG9jayk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKChibG9jay5sZXZlbCB8fCAxKSA+IGN1cnJlbnRMaXN0LmxldmVsKSB7XG4gICAgICBjb25zdCBuZXdMaXN0ID0gbGlzdEZyb21CbG9jayhibG9jaywgaSwgbW9kZSk7XG4gICAgICBpZiAobW9kZSA9PT0gXCJodG1sXCIpIHtcbiAgICAgICAgY29uc3QgbGFzdExpc3RJdGVtID0gY3VycmVudExpc3QuY2hpbGRyZW5bY3VycmVudExpc3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IG5ld0xhc3RDaGlsZCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbGFzdExpc3RJdGVtKSwge30sIHtcbiAgICAgICAgICBjaGlsZHJlbjogWy4uLmxhc3RMaXN0SXRlbS5jaGlsZHJlbiwgbmV3TGlzdF1cbiAgICAgICAgfSk7XG4gICAgICAgIGN1cnJlbnRMaXN0LmNoaWxkcmVuW2N1cnJlbnRMaXN0LmNoaWxkcmVuLmxlbmd0aCAtIDFdID0gbmV3TGFzdENoaWxkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudExpc3QuY2hpbGRyZW4ucHVzaChuZXdMaXN0KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRMaXN0ID0gbmV3TGlzdDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoKGJsb2NrLmxldmVsIHx8IDEpIDwgY3VycmVudExpc3QubGV2ZWwpIHtcbiAgICAgIGNvbnN0IG1hdGNoaW5nQnJhbmNoID0gdHJlZVt0cmVlLmxlbmd0aCAtIDFdO1xuICAgICAgY29uc3QgbWF0Y2ggPSBtYXRjaGluZ0JyYW5jaCAmJiBmaW5kTGlzdE1hdGNoaW5nKG1hdGNoaW5nQnJhbmNoLCBibG9jayk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgY3VycmVudExpc3QgPSBtYXRjaDtcbiAgICAgICAgY3VycmVudExpc3QuY2hpbGRyZW4ucHVzaChibG9jayk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY3VycmVudExpc3QgPSBsaXN0RnJvbUJsb2NrKGJsb2NrLCBpLCBtb2RlKTtcbiAgICAgIHRyZWUucHVzaChjdXJyZW50TGlzdCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGJsb2NrLmxpc3RJdGVtICE9PSBjdXJyZW50TGlzdC5saXN0SXRlbSkge1xuICAgICAgY29uc3QgbWF0Y2hpbmdCcmFuY2ggPSB0cmVlW3RyZWUubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCBtYXRjaCA9IG1hdGNoaW5nQnJhbmNoICYmIGZpbmRMaXN0TWF0Y2hpbmcobWF0Y2hpbmdCcmFuY2gsIHtcbiAgICAgICAgbGV2ZWw6IGJsb2NrLmxldmVsIHx8IDFcbiAgICAgIH0pO1xuICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmxpc3RJdGVtID09PSBibG9jay5saXN0SXRlbSkge1xuICAgICAgICBjdXJyZW50TGlzdCA9IG1hdGNoO1xuICAgICAgICBjdXJyZW50TGlzdC5jaGlsZHJlbi5wdXNoKGJsb2NrKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50TGlzdCA9IGxpc3RGcm9tQmxvY2soYmxvY2ssIGksIG1vZGUpO1xuICAgICAgICB0cmVlLnB1c2goY3VycmVudExpc3QpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc29sZS53YXJuKFwiVW5rbm93biBzdGF0ZSBlbmNvdW50ZXJlZCBmb3IgYmxvY2tcIiwgYmxvY2spO1xuICAgIHRyZWUucHVzaChibG9jayk7XG4gIH1cbiAgcmV0dXJuIHRyZWU7XG59XG5mdW5jdGlvbiBibG9ja01hdGNoZXNMaXN0KGJsb2NrLCBsaXN0KSB7XG4gIHJldHVybiAoYmxvY2subGV2ZWwgfHwgMSkgPT09IGxpc3QubGV2ZWwgJiYgYmxvY2subGlzdEl0ZW0gPT09IGxpc3QubGlzdEl0ZW07XG59XG5mdW5jdGlvbiBsaXN0RnJvbUJsb2NrKGJsb2NrLCBpbmRleCwgbW9kZSkge1xuICByZXR1cm4ge1xuICAgIF90eXBlOiBcIkBsaXN0XCIsXG4gICAgX2tleTogXCJcIi5jb25jYXQoYmxvY2suX2tleSB8fCBcIlwiLmNvbmNhdChpbmRleCksIFwiLXBhcmVudFwiKSxcbiAgICBtb2RlLFxuICAgIGxldmVsOiBibG9jay5sZXZlbCB8fCAxLFxuICAgIGxpc3RJdGVtOiBibG9jay5saXN0SXRlbSxcbiAgICBjaGlsZHJlbjogW2Jsb2NrXVxuICB9O1xufVxuZnVuY3Rpb24gZmluZExpc3RNYXRjaGluZyhyb290Tm9kZSwgbWF0Y2hpbmcpIHtcbiAgY29uc3QgbGV2ZWwgPSBtYXRjaGluZy5sZXZlbCB8fCAxO1xuICBjb25zdCBzdHlsZSA9IG1hdGNoaW5nLmxpc3RJdGVtIHx8IFwibm9ybWFsXCI7XG4gIGNvbnN0IGZpbHRlck9uVHlwZSA9IHR5cGVvZiBtYXRjaGluZy5saXN0SXRlbSA9PT0gXCJzdHJpbmdcIjtcbiAgaWYgKGlzUG9ydGFibGVUZXh0VG9vbGtpdExpc3Qocm9vdE5vZGUpICYmIChyb290Tm9kZS5sZXZlbCB8fCAxKSA9PT0gbGV2ZWwgJiYgZmlsdGVyT25UeXBlICYmIChyb290Tm9kZS5saXN0SXRlbSB8fCBcIm5vcm1hbFwiKSA9PT0gc3R5bGUpIHtcbiAgICByZXR1cm4gcm9vdE5vZGU7XG4gIH1cbiAgaWYgKCEoXCJjaGlsZHJlblwiIGluIHJvb3ROb2RlKSkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3Qgbm9kZSA9IHJvb3ROb2RlLmNoaWxkcmVuW3Jvb3ROb2RlLmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gbm9kZSAmJiAhaXNQb3J0YWJsZVRleHRTcGFuKG5vZGUpID8gZmluZExpc3RNYXRjaGluZyhub2RlLCBtYXRjaGluZykgOiB2b2lkIDA7XG59XG5jb25zdCBsZWFkaW5nU3BhY2UgPSAvXlxccy87XG5jb25zdCB0cmFpbGluZ1NwYWNlID0gL15cXHMvO1xuZnVuY3Rpb24gdG9QbGFpblRleHQoYmxvY2spIHtcbiAgY29uc3QgYmxvY2tzID0gQXJyYXkuaXNBcnJheShibG9jaykgPyBibG9jayA6IFtibG9ja107XG4gIGxldCB0ZXh0ID0gXCJcIjtcbiAgYmxvY2tzLmZvckVhY2goKGN1cnJlbnQsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFpc1BvcnRhYmxlVGV4dEJsb2NrKGN1cnJlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBwYWQgPSBmYWxzZTtcbiAgICBjdXJyZW50LmNoaWxkcmVuLmZvckVhY2goc3BhbiA9PiB7XG4gICAgICBpZiAoaXNQb3J0YWJsZVRleHRTcGFuKHNwYW4pKSB7XG4gICAgICAgIHRleHQgKz0gcGFkICYmIHRleHQgJiYgIXRyYWlsaW5nU3BhY2UudGVzdCh0ZXh0KSAmJiAhbGVhZGluZ1NwYWNlLnRlc3Qoc3Bhbi50ZXh0KSA/IFwiIFwiIDogXCJcIjtcbiAgICAgICAgdGV4dCArPSBzcGFuLnRleHQ7XG4gICAgICAgIHBhZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5kZXggIT09IGJsb2Nrcy5sZW5ndGggLSAxKSB7XG4gICAgICB0ZXh0ICs9IFwiXFxuXFxuXCI7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRleHQ7XG59XG5mdW5jdGlvbiBzcGFuVG9QbGFpblRleHQoc3Bhbikge1xuICBsZXQgdGV4dCA9IFwiXCI7XG4gIHNwYW4uY2hpbGRyZW4uZm9yRWFjaChjdXJyZW50ID0+IHtcbiAgICBpZiAoaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUoY3VycmVudCkpIHtcbiAgICAgIHRleHQgKz0gY3VycmVudC50ZXh0O1xuICAgIH0gZWxzZSBpZiAoaXNQb3J0YWJsZVRleHRUb29sa2l0U3BhbihjdXJyZW50KSkge1xuICAgICAgdGV4dCArPSBzcGFuVG9QbGFpblRleHQoY3VycmVudCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRleHQ7XG59XG5jb25zdCBMSVNUX05FU1RfTU9ERV9IVE1MID0gXCJodG1sXCI7XG5jb25zdCBMSVNUX05FU1RfTU9ERV9ESVJFQ1QgPSBcImRpcmVjdFwiO1xuZXhwb3J0IHsgTElTVF9ORVNUX01PREVfRElSRUNULCBMSVNUX05FU1RfTU9ERV9IVE1MLCBidWlsZE1hcmtzVHJlZSwgaXNQb3J0YWJsZVRleHRCbG9jaywgaXNQb3J0YWJsZVRleHRMaXN0SXRlbUJsb2NrLCBpc1BvcnRhYmxlVGV4dFNwYW4sIGlzUG9ydGFibGVUZXh0VG9vbGtpdExpc3QsIGlzUG9ydGFibGVUZXh0VG9vbGtpdFNwYW4sIGlzUG9ydGFibGVUZXh0VG9vbGtpdFRleHROb2RlLCBuZXN0TGlzdHMsIHNvcnRNYXJrc0J5T2NjdXJlbmNlcywgc3BhblRvUGxhaW5UZXh0LCB0b1BsYWluVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsib3duS2V5cyIsImUiLCJyIiwidCIsIk9iamVjdCIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJvIiwiZmlsdGVyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsIm9iaiIsImtleSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFyZyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsInJlcyIsImNhbGwiLCJUeXBlRXJyb3IiLCJOdW1iZXIiLCJpc1BvcnRhYmxlVGV4dFNwYW4iLCJub2RlIiwiX3R5cGUiLCJ0ZXh0IiwibWFya3MiLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsIm1hcmsiLCJpc1BvcnRhYmxlVGV4dEJsb2NrIiwibWFya0RlZnMiLCJkZWYiLCJfa2V5IiwiY2hpbGRyZW4iLCJjaGlsZCIsImlzUG9ydGFibGVUZXh0TGlzdEl0ZW1CbG9jayIsImJsb2NrIiwibGlzdEl0ZW0iLCJsZXZlbCIsImlzUG9ydGFibGVUZXh0VG9vbGtpdExpc3QiLCJpc1BvcnRhYmxlVGV4dFRvb2xraXRTcGFuIiwic3BhbiIsImlzUG9ydGFibGVUZXh0VG9vbGtpdFRleHROb2RlIiwia25vd25EZWNvcmF0b3JzIiwic29ydE1hcmtzQnlPY2N1cmVuY2VzIiwiaW5kZXgiLCJibG9ja0NoaWxkcmVuIiwic2xpY2UiLCJvY2N1cmVuY2VzIiwic2libGluZ0luZGV4Iiwic2libGluZyIsImluZGV4T2YiLCJzb3J0IiwibWFya0EiLCJtYXJrQiIsInNvcnRNYXJrcyIsImFPY2N1cmVuY2VzIiwiYk9jY3VyZW5jZXMiLCJhS25vd25Qb3MiLCJiS25vd25Qb3MiLCJsb2NhbGVDb21wYXJlIiwiYnVpbGRNYXJrc1RyZWUiLCJfYSIsInNvcnRlZE1hcmtzIiwibWFwIiwicm9vdE5vZGUiLCJtYXJrVHlwZSIsIm5vZGVTdGFjayIsImkiLCJtYXJrc05lZWRlZCIsInBvcyIsIm1hcmtLZXkiLCJzcGxpY2UiLCJjdXJyZW50Tm9kZSIsIm1hcmtEZWYiLCJmaW5kIiwibGluZXMiLCJzcGxpdCIsImxpbmUiLCJjb25jYXQiLCJuZXN0TGlzdHMiLCJibG9ja3MiLCJtb2RlIiwidHJlZSIsImN1cnJlbnRMaXN0IiwibGlzdEZyb21CbG9jayIsImJsb2NrTWF0Y2hlc0xpc3QiLCJuZXdMaXN0IiwibGFzdExpc3RJdGVtIiwibmV3TGFzdENoaWxkIiwibWF0Y2hpbmdCcmFuY2giLCJtYXRjaCIsImZpbmRMaXN0TWF0Y2hpbmciLCJjb25zb2xlIiwid2FybiIsImxpc3QiLCJtYXRjaGluZyIsInN0eWxlIiwiZmlsdGVyT25UeXBlIiwibGVhZGluZ1NwYWNlIiwidHJhaWxpbmdTcGFjZSIsInRvUGxhaW5UZXh0IiwiY3VycmVudCIsInBhZCIsInRlc3QiLCJzcGFuVG9QbGFpblRleHQiLCJMSVNUX05FU1RfTU9ERV9IVE1MIiwiTElTVF9ORVNUX01PREVfRElSRUNUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@portabletext/toolkit/dist/index.js\n");

/***/ })

};
;